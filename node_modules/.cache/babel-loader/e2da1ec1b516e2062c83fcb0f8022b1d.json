{"ast":null,"code":"var _jsxFileName = \"/Users/Ben/Documents/dev.bensmithsound.uk/src/Site.Status.js\";\nimport React from 'react';\nimport './App.css';\nimport './Site.Status.css';\nimport { prods } from './Production.list.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Status extends React.Component {\n  constructor(prop) {\n    super(prop);\n    this.state = {\n      prods\n    };\n  }\n\n  setStatus() {\n    const today = new Date();\n    var prodStatus = false;\n    var status = \"\";\n    prods.map(prod => {\n      var preStart = new Date(Date.parse(prod.date.preStart));\n      var fitupStart = new Date(Date.parse(prod.date.fitupStart));\n      var techStart = new Date(Date.parse(prod.date.techStart));\n      var runStart = new Date(Date.parse(prod.date.runStart));\n      var runEnd = new Date(Date.parse(prod.date.runEnd));\n      {\n        /*if (prod.producer) {\n         var showRef = prod.showName + \" (for \" + prod.producer + \")\"\n        } else {\n         var showRef = prod.showName\n        }*/\n      }\n      var showRef = prod.showName;\n\n      if (preStart <= today && fitupStart > today) {\n        prodStatus = \"in pre-production for \" + showRef;\n      } else if (fitupStart <= today && techStart > today) {\n        prodStatus = \"fitting up for \" + showRef;\n      } else if (techStart <= today && runStart > today) {\n        prodStatus = \"in tech rehearsals for \" + showRef;\n      } else if (runStart <= today && runEnd > today) {\n        prodStatus = \"working on performances of \" + showRef;\n      } else {\n        prodStatus = false;\n      }\n\n      ;\n\n      if (prodStatus) {\n        console.log(\"I am \" + prodStatus);\n\n        if (status === \"\") {\n          status = \"I am currently \" + prodStatus;\n        } else {\n          status = status.replace(\", & \", \", \");\n          status = status.concat(\", & \" + prodStatus);\n        }\n      }\n\n      ;\n    });\n    return status + \".\";\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"position-fixed top-0 end-0 p-3 status\",\n      style: {\n        zIndex: '5'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"liveToast\",\n        className: \"toast fade-in-and-out\",\n        role: \"alert\",\n        \"aria-live\": \"assertive\",\n        \"aria-atomic\": \"true\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"toast-body\",\n          children: this.setStatus()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Status;","map":{"version":3,"sources":["/Users/Ben/Documents/dev.bensmithsound.uk/src/Site.Status.js"],"names":["React","prods","Status","Component","constructor","prop","state","setStatus","today","Date","prodStatus","status","map","prod","preStart","parse","date","fitupStart","techStart","runStart","runEnd","showRef","showName","console","log","replace","concat","render","zIndex"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport './Site.Status.css';\nimport {prods} from './Production.list.json';\n\nclass Status extends React.Component {\n  constructor(prop) {\n    super(prop);\n    this.state = {prods};\n  }\n\n  setStatus() {\n    const today = new Date();\n    var prodStatus = false;\n    var status = \"\";\n    prods.map(prod => {\n      var preStart = new Date(Date.parse(prod.date.preStart));\n      var fitupStart = new Date(Date.parse(prod.date.fitupStart));\n      var techStart = new Date(Date.parse(prod.date.techStart));\n      var runStart = new Date(Date.parse(prod.date.runStart));\n      var runEnd = new Date(Date.parse(prod.date.runEnd));\n\n      {/*if (prod.producer) {\n        var showRef = prod.showName + \" (for \" + prod.producer + \")\"\n      } else {\n        var showRef = prod.showName\n      }*/}\n\n      var showRef = prod.showName;\n\n      if(preStart <= today && fitupStart > today) {\n        prodStatus = \"in pre-production for \" + showRef;\n      } else if(fitupStart <= today && techStart > today) {\n        prodStatus = \"fitting up for \" + showRef;\n      } else if(techStart <= today && runStart > today) {\n        prodStatus = \"in tech rehearsals for \" + showRef;\n      } else if(runStart <= today && runEnd > today) {\n        prodStatus = \"working on performances of \" + showRef;\n      } else {\n        prodStatus = false\n      };\n\n      if(prodStatus) {\n        console.log(\"I am \" + prodStatus);\n        if(status === \"\") {\n          status = \"I am currently \" + prodStatus;\n        } else {\n          status = status.replace(\", & \", \", \");\n          status = status.concat(\", & \" + prodStatus);\n        }\n      };\n\n    })\n    return(status + \".\");\n  }\n\n  render() {\n    return (\n      <div className=\"position-fixed top-0 end-0 p-3 status\" style={{zIndex:'5'}}>\n        <div id=\"liveToast\" className=\"toast fade-in-and-out\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">\n          <div class=\"toast-body\">\n            {this.setStatus()}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Status;"]},"metadata":{},"sourceType":"module"}