{"ast":null,"code":"import _classCallCheck from\"/Users/Ben/Documents/www.bensmithsound.uk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Ben/Documents/www.bensmithsound.uk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Ben/Documents/www.bensmithsound.uk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Ben/Documents/www.bensmithsound.uk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./App.css';import'./Site.Status.css';import{prods}from'./Production.list.json';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var today=new Date();var Status=/*#__PURE__*/function(_React$Component){_inherits(Status,_React$Component);var _super=_createSuper(Status);function Status(prop){var _this;_classCallCheck(this,Status);_this=_super.call(this,prop);_this.state={prods:prods};return _this;}_createClass(Status,[{key:\"setGreeting\",value:function setGreeting(){var greetingOptions=[\"Hi there!\",\"Hello!\"];var now=new Date();var greeting=\"\";var pickGreeting=\"\";if(now.getHours()<12){greeting=\"Good morning!\";}else if(now.getHours()<18&&now.getHours()>=12){greeting=\"Good afternoon!\";}else if(now.getHours()<23&&now.getHours()>=18){greeting=\"Good evening!\";};if(greeting){greetingOptions.push(greeting);pickGreeting=greetingOptions[Math.floor(Math.random()*greetingOptions.length)];return pickGreeting;}else{pickGreeting=greetingOptions[Math.floor(Math.random()*greetingOptions.length)];return pickGreeting;};}},{key:\"setStatus\",value:function setStatus(){var prodStatus=false;var status=\"\";prods.map(function(prod){var preStart=new Date(Date.parse(prod.date.preStart));var fitupStart=new Date(Date.parse(prod.date.fitupStart));var techStart=new Date(Date.parse(prod.date.techStart));var runStart=new Date(Date.parse(prod.date.runStart));var runEnd=new Date(Date.parse(prod.date.runEnd));/*if (prod.producer) {\n        var showRef = prod.showName + \" (for \" + prod.producer + \")\"\n      } else {\n        var showRef = prod.showName\n      }*/var showRef=prod.showName;if(preStart<=today&&fitupStart>today){prodStatus=\"in pre-production for <em>\"+showRef+\"</em>\";}else if(fitupStart<=today&&techStart>today){prodStatus=\"fitting up for <em>\"+showRef+\"</em>\";}else if(techStart<=today&&runStart>today){prodStatus=\"in tech rehearsals for <em>\"+showRef+\"</em>\";}else if(runStart<=today&&runEnd>today){prodStatus=\"working on performances of <em>\"+showRef+\"</em>\";}else{prodStatus=false;};if(runEnd>=today&&runStart<=today){prodStatus=\"working on performances of <em>\"+showRef+\"</em>\";}else if(runStart>=today&&techStart<=today){prodStatus=\"in tech rehearsals for <em>\"+showRef+\"</em>\";}else if(techStart>=today&&fitupStart<=today){prodStatus=\"fitting up for <em>\"+showRef+\"</em>\";}else if(fitupStart>=today&&preStart<=today){prodStatus=\"in pre-production for <em>\"+showRef+\"</em>\";}if(prodStatus){if(status===\"\"){status=\"I am currently \"+prodStatus;}else{status=status.replace(\" & \",\", \");status=status.concat(\" & \"+prodStatus);}};return status;});return status+\".\";}},{key:\"getDate\",value:function getDate(){var months=['January','February','March','April','May','June','July','August','September','October','November','December'];var days=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];var todayYear=today.getFullYear();var todayMonth=months[today.getMonth()];var todayDate=today.getDate();var todayDay=days[today.getDay()];return todayDay+\", \"+todayDate+\" \"+todayMonth+\" \"+todayYear;}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:this.setStatus()!==\".\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 mt-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-end mb-1\",children:/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-secondary\",children:this.getDate()})}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-primary\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"strong\",{children:this.setGreeting()}),\" \",/*#__PURE__*/_jsx(\"text\",{dangerouslySetInnerHTML:{__html:this.setStatus()}})]})]})})});}}]);return Status;}(React.Component);/*  F L O A T I N G  */ /*<div className=\"position-fixed top-0 end-0 p-3 status\" style={{zIndex:'5'}}>\n  {this.setStatus() !== \".\" &&\n  <div id=\"liveToast\" className=\"toast fade-in-and-out\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">\n    <div className=\"toast-body\">\n      <strong>{this.setGreeting()}</strong> <text dangerouslySetInnerHTML={{__html:this.setStatus()}}></text>\n    </div>\n  </div>\n  }\n</div>*/ /*  A L E R T  */ /*      <div className=\"container-fluid\">\n        <div className=\"row justify-content-center\">\n          {this.setStatus() !== \".\" &&\n            <div className=\"col-md-6 mt-4\">\n              <p className=\"text-end\"><span className=\"badge bg-secondary\">{this.getDate()}</span></p>\n              <div className=\"alert alert-primary fade show\" role=\"alert\">\n                <strong>{this.setGreeting()}</strong> <text dangerouslySetInnerHTML={{__html: this.setStatus() }}></text>\n              </div>\n            </div>\n          }\n        </div>\n      </div>*/export default Status;","map":{"version":3,"sources":["/Users/Ben/Documents/www.bensmithsound.uk/src/Site.Status.js"],"names":["React","prods","today","Date","Status","prop","state","greetingOptions","now","greeting","pickGreeting","getHours","push","Math","floor","random","length","prodStatus","status","map","prod","preStart","parse","date","fitupStart","techStart","runStart","runEnd","showRef","showName","replace","concat","months","days","todayYear","getFullYear","todayMonth","getMonth","todayDate","getDate","todayDay","getDay","setStatus","setGreeting","__html","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport './Site.Status.css';\nimport {prods} from './Production.list.json';\n\nconst today = new Date();\n\nclass Status extends React.Component {\n  constructor(prop) {\n    super(prop);\n    this.state = {prods};\n  }\n\n  setGreeting() {\n    var greetingOptions = [\n      \"Hi there!\",\n      \"Hello!\"\n    ]\n\n    const now = new Date();\n    var greeting = \"\"\n    var pickGreeting = \"\"\n\n    if(now.getHours() < 12) {\n      greeting = \"Good morning!\"\n    } else if(now.getHours() < 18 && now.getHours() >= 12) {\n      greeting = \"Good afternoon!\"\n    } else if(now.getHours() < 23 && now.getHours() >= 18) {\n      greeting = \"Good evening!\"\n    };\n\n    if(greeting) {\n      greetingOptions.push(greeting);\n      pickGreeting = greetingOptions[Math.floor(Math.random()*greetingOptions.length)];\n      return pickGreeting;\n    } else {\n      pickGreeting = greetingOptions[Math.floor(Math.random()*greetingOptions.length)];\n      return pickGreeting;\n    };\n  }\n\n  setStatus() {\n    var prodStatus = false;\n    var status = \"\";\n\n    prods.map(prod => {\n      var preStart = new Date(Date.parse(prod.date.preStart));\n      var fitupStart = new Date(Date.parse(prod.date.fitupStart));\n      var techStart = new Date(Date.parse(prod.date.techStart));\n      var runStart = new Date(Date.parse(prod.date.runStart));\n      var runEnd = new Date(Date.parse(prod.date.runEnd));\n\n      /*if (prod.producer) {\n        var showRef = prod.showName + \" (for \" + prod.producer + \")\"\n      } else {\n        var showRef = prod.showName\n      }*/\n\n      var showRef = prod.showName;\n\n      if(preStart <= today && fitupStart > today) {\n        prodStatus = \"in pre-production for <em>\" + showRef + \"</em>\";\n      } else if(fitupStart <= today && techStart > today) {\n        prodStatus = \"fitting up for <em>\" + showRef + \"</em>\";\n      } else if(techStart <= today && runStart > today) {\n        prodStatus = \"in tech rehearsals for <em>\" + showRef + \"</em>\";\n      } else if(runStart <= today && runEnd > today) {\n        prodStatus = \"working on performances of <em>\" + showRef + \"</em>\";\n      } else {\n        prodStatus = false\n      };\n\n      if(runEnd >= today && runStart <= today) {\n        prodStatus = \"working on performances of <em>\" + showRef + \"</em>\";\n      } else if(runStart >= today && techStart <= today) {\n        prodStatus = \"in tech rehearsals for <em>\" + showRef + \"</em>\";\n      } else if(techStart >= today && fitupStart <= today) {\n        prodStatus = \"fitting up for <em>\" + showRef + \"</em>\";\n      } else if(fitupStart >= today && preStart <= today) {\n        prodStatus = \"in pre-production for <em>\" + showRef + \"</em>\";\n      }\n\n      if(prodStatus) {\n        if(status === \"\") {\n          status = \"I am currently \" + prodStatus;\n        } else {\n          status = status.replace(\" & \", \", \");\n          status = status.concat(\" & \" + prodStatus);\n        }\n      };\n\n      return(status);\n\n    })\n\n    return(status + \".\");\n  }\n\n  getDate() {\n    const months = [\n      'January',\n      'February',\n      'March',\n      'April',\n      'May',\n      'June',\n      'July',\n      'August',\n      'September',\n      'October',\n      'November',\n      'December'\n    ]\n\n    const days = [\n      'Sunday',\n      'Monday',\n      'Tuesday',\n      'Wednesday',\n      'Thursday',\n      'Friday',\n      'Saturday'\n    ]\n\n    const todayYear = today.getFullYear();\n    const todayMonth = months[today.getMonth()];\n    const todayDate = today.getDate();\n    const todayDay = days[today.getDay()];\n\n    return todayDay + \", \" + todayDate + \" \" + todayMonth + \" \" + todayYear;\n  }\n\n  render() {\n    return (\n      <div className=\"container-fluid\">\n        <div className=\"row justify-content-center\">\n          {this.setStatus() !== \".\" &&\n            <div className=\"col-md-6 mt-2\">\n              <p className=\"text-end mb-1\"><span className=\"badge bg-secondary\">{this.getDate()}</span></p>\n              <div className=\"alert alert-primary\" role=\"alert\">\n                <strong>{this.setGreeting()}</strong> <text dangerouslySetInnerHTML={{__html: this.setStatus() }}></text>\n              </div>\n            </div>\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\n\n/*  F L O A T I N G  */\n\n/*<div className=\"position-fixed top-0 end-0 p-3 status\" style={{zIndex:'5'}}>\n  {this.setStatus() !== \".\" &&\n  <div id=\"liveToast\" className=\"toast fade-in-and-out\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">\n    <div className=\"toast-body\">\n      <strong>{this.setGreeting()}</strong> <text dangerouslySetInnerHTML={{__html:this.setStatus()}}></text>\n    </div>\n  </div>\n  }\n</div>*/\n\n\n/*  A L E R T  */\n\n/*      <div className=\"container-fluid\">\n        <div className=\"row justify-content-center\">\n          {this.setStatus() !== \".\" &&\n            <div className=\"col-md-6 mt-4\">\n              <p className=\"text-end\"><span className=\"badge bg-secondary\">{this.getDate()}</span></p>\n              <div className=\"alert alert-primary fade show\" role=\"alert\">\n                <strong>{this.setGreeting()}</strong> <text dangerouslySetInnerHTML={{__html: this.setStatus() }}></text>\n              </div>\n            </div>\n          }\n        </div>\n      </div>*/\n\nexport default Status;"]},"metadata":{},"sourceType":"module"}