{"ast":null,"code":"import _classCallCheck from\"/Users/Ben/Documents/dev.bensmithsound.uk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Ben/Documents/dev.bensmithsound.uk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Ben/Documents/dev.bensmithsound.uk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Ben/Documents/dev.bensmithsound.uk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./App.css';import'./Site.Status.css';import{prods}from'./Production.list.json';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Status=/*#__PURE__*/function(_React$Component){_inherits(Status,_React$Component);var _super=_createSuper(Status);function Status(prop){var _this;_classCallCheck(this,Status);_this=_super.call(this,prop);_this.state={prods:prods};return _this;}_createClass(Status,[{key:\"setGreeting\",value:function setGreeting(){var greetingOptions=[\"Hi there!\",\"Hey there!\"];var now=new Date();var greeting=\"\";var pickGreeting=\"\";if(now.getHours()<12){greeting=\"Good morning!\";}else if(now.getHours()<18&&now.getHours()>=12){greeting=\"Good afternoon!\";}else if(now.getHours()<23&&now.getHours()>=18){greeting=\"Good evening!\";};if(greeting){greetingOptions.push(greeting);pickGreeting=greetingOptions[Math.floor(Math.random()*greetingOptions.length)];return pickGreeting;}else{pickGreeting=greetingOptions[Math.floor(Math.random()*greetingOptions.length)];return pickGreeting[0];};}},{key:\"setStatus\",value:function setStatus(){var today=new Date();/*const today = new Date(Date.parse(\"2021-06-04\"));*/var prodStatus=false;var status=\"\";prods.map(function(prod){var preStart=new Date(Date.parse(prod.date.preStart));var fitupStart=new Date(Date.parse(prod.date.fitupStart));var techStart=new Date(Date.parse(prod.date.techStart));var runStart=new Date(Date.parse(prod.date.runStart));var runEnd=new Date(Date.parse(prod.date.runEnd));/*if (prod.producer) {\n        var showRef = prod.showName + \" (for \" + prod.producer + \")\"\n      } else {\n        var showRef = prod.showName\n      }*/var showRef=prod.showName;if(preStart<=today&&fitupStart>today){prodStatus=\"in pre-production for <em>\"+showRef+\"</em>\";}else if(fitupStart<=today&&techStart>today){prodStatus=\"fitting up for <em>\"+showRef+\"</em>\";}else if(techStart<=today&&runStart>today){prodStatus=\"in tech rehearsals for <em>\"+showRef+\"</em>\";}else if(runStart<=today&&runEnd>today){prodStatus=\"working on performances of <em>\"+showRef+\"</em>\";}else{prodStatus=false;};if(runEnd>=today&&runStart<=today){prodStatus=\"working on performances of <em>\"+showRef+\"</em>\";}else if(runStart>=today&&techStart<=today){prodStatus=\"in tech rehearsals for <em>\"+showRef+\"</em>\";}else if(techStart>=today&&fitupStart<=today){prodStatus=\"fitting up for <em>\"+showRef+\"</em>\";}else if(fitupStart>=today&&preStart<=today){prodStatus=\"in pre-production for <em>\"+showRef+\"</em>\";}if(prodStatus){console.log(\"I am \"+prodStatus);if(status===\"\"){status=\"I am currently \"+prodStatus;}else{status=status.replace(\" & \",\", \");status=status.concat(\" & \"+prodStatus);}};});return status+\".\";}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"position-fixed top-0 end-0 p-3 status\",style:{zIndex:'5'},children:this.setStatus()!==\".\"&&/*#__PURE__*/_jsx(\"div\",{id:\"liveToast\",className:\"toast fade-in-and-out\",role:\"alert\",\"aria-live\":\"assertive\",\"aria-atomic\":\"true\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"toast-body\",children:[/*#__PURE__*/_jsx(\"strong\",{children:this.setGreeting()}),\" \",/*#__PURE__*/_jsx(\"text\",{dangerouslySetInnerHTML:{__html:this.setStatus()}})]})})});}}]);return Status;}(React.Component);/*  F L O A T I N G  */ /*<div className=\"position-fixed top-0 end-0 p-3 status\" style={{zIndex:'5'}}>\n  {this.setStatus() !== \".\" &&\n  <div id=\"liveToast\" className=\"toast fade-in-and-out\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">\n    <div class=\"toast-body\">\n      <strong>{this.setGreeting()}</strong> <text dangerouslySetInnerHTML={{__html:this.setStatus()}}></text>\n    </div>\n  </div>\n  }\n</div>*/ /*  A L E R T  */ /*<div className=\"container-fluid\">\n  <div className=\"row justify-content-center\">\n    {this.setStatus() !== \".\" &&\n    <div className=\"col-md-6 mt-4\">\n      <div className=\"alert alert-primary alert-dismissible fade show\" role=\"alert\">\n        <strong>{this.setGreeting()}</strong> <text dangerouslySetInnerHTML={{__html: this.setStatus() }}></text>\n        <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\n      </div>\n    </div>\n    }\n  </div>\n</div>*/export default Status;","map":{"version":3,"sources":["/Users/Ben/Documents/dev.bensmithsound.uk/src/Site.Status.js"],"names":["React","prods","Status","prop","state","greetingOptions","now","Date","greeting","pickGreeting","getHours","push","Math","floor","random","length","today","prodStatus","status","map","prod","preStart","parse","date","fitupStart","techStart","runStart","runEnd","showRef","showName","console","log","replace","concat","zIndex","setStatus","setGreeting","__html","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport './Site.Status.css';\nimport {prods} from './Production.list.json';\n\nclass Status extends React.Component {\n  constructor(prop) {\n    super(prop);\n    this.state = {prods};\n  }\n\n  setGreeting() {\n    var greetingOptions = [\n      \"Hi there!\",\n      \"Hey there!\"\n    ]\n\n    const now = new Date();\n    var greeting = \"\"\n    var pickGreeting = \"\"\n\n    if(now.getHours() < 12) {\n      greeting = \"Good morning!\"\n    } else if(now.getHours() < 18 && now.getHours() >= 12) {\n      greeting = \"Good afternoon!\"\n    } else if(now.getHours() < 23 && now.getHours() >= 18) {\n      greeting = \"Good evening!\"\n    };\n\n    if(greeting) {\n      greetingOptions.push(greeting);\n      pickGreeting = greetingOptions[Math.floor(Math.random()*greetingOptions.length)];\n      return pickGreeting;\n    } else {\n      pickGreeting = greetingOptions[Math.floor(Math.random()*greetingOptions.length)];\n      return pickGreeting[0];\n    };\n  }\n\n  setStatus() {\n    const today = new Date();\n    /*const today = new Date(Date.parse(\"2021-06-04\"));*/\n    var prodStatus = false;\n    var status = \"\";\n\n    prods.map(prod => {\n      var preStart = new Date(Date.parse(prod.date.preStart));\n      var fitupStart = new Date(Date.parse(prod.date.fitupStart));\n      var techStart = new Date(Date.parse(prod.date.techStart));\n      var runStart = new Date(Date.parse(prod.date.runStart));\n      var runEnd = new Date(Date.parse(prod.date.runEnd));\n\n      /*if (prod.producer) {\n        var showRef = prod.showName + \" (for \" + prod.producer + \")\"\n      } else {\n        var showRef = prod.showName\n      }*/\n\n      var showRef = prod.showName;\n\n      if(preStart <= today && fitupStart > today) {\n        prodStatus = \"in pre-production for <em>\" + showRef + \"</em>\";\n      } else if(fitupStart <= today && techStart > today) {\n        prodStatus = \"fitting up for <em>\" + showRef + \"</em>\";\n      } else if(techStart <= today && runStart > today) {\n        prodStatus = \"in tech rehearsals for <em>\" + showRef + \"</em>\";\n      } else if(runStart <= today && runEnd > today) {\n        prodStatus = \"working on performances of <em>\" + showRef + \"</em>\";\n      } else {\n        prodStatus = false\n      };\n\n      if(runEnd >= today && runStart <= today) {\n        prodStatus = \"working on performances of <em>\" + showRef + \"</em>\";\n      } else if(runStart >= today && techStart <= today) {\n        prodStatus = \"in tech rehearsals for <em>\" + showRef + \"</em>\";\n      } else if(techStart >= today && fitupStart <= today) {\n        prodStatus = \"fitting up for <em>\" + showRef + \"</em>\";\n      } else if(fitupStart >= today && preStart <= today) {\n        prodStatus = \"in pre-production for <em>\" + showRef + \"</em>\";\n      }\n\n      if(prodStatus) {\n        console.log(\"I am \" + prodStatus);\n        if(status === \"\") {\n          status = \"I am currently \" + prodStatus;\n        } else {\n          status = status.replace(\" & \", \", \");\n          status = status.concat(\" & \" + prodStatus);\n        }\n      };\n\n    })\n\n    return(status + \".\");\n  }\n\n  render() {\n    return (\n      <div className=\"position-fixed top-0 end-0 p-3 status\" style={{zIndex:'5'}}>\n  {this.setStatus() !== \".\" &&\n  <div id=\"liveToast\" className=\"toast fade-in-and-out\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">\n    <div class=\"toast-body\">\n      <strong>{this.setGreeting()}</strong> <text dangerouslySetInnerHTML={{__html:this.setStatus()}}></text>\n    </div>\n  </div>\n  }\n</div>\n    );\n  }\n}\n\n\n/*  F L O A T I N G  */\n\n/*<div className=\"position-fixed top-0 end-0 p-3 status\" style={{zIndex:'5'}}>\n  {this.setStatus() !== \".\" &&\n  <div id=\"liveToast\" className=\"toast fade-in-and-out\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">\n    <div class=\"toast-body\">\n      <strong>{this.setGreeting()}</strong> <text dangerouslySetInnerHTML={{__html:this.setStatus()}}></text>\n    </div>\n  </div>\n  }\n</div>*/\n\n\n/*  A L E R T  */\n\n/*<div className=\"container-fluid\">\n  <div className=\"row justify-content-center\">\n    {this.setStatus() !== \".\" &&\n    <div className=\"col-md-6 mt-4\">\n      <div className=\"alert alert-primary alert-dismissible fade show\" role=\"alert\">\n        <strong>{this.setGreeting()}</strong> <text dangerouslySetInnerHTML={{__html: this.setStatus() }}></text>\n        <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\n      </div>\n    </div>\n    }\n  </div>\n</div>*/\n\nexport default Status;"]},"metadata":{},"sourceType":"module"}