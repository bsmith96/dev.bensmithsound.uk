{"ast":null,"code":"var _jsxFileName = \"/Users/Ben/Documents/dev.bensmithsound.uk/src/Site.Status.js\";\nimport React from 'react';\nimport './App.css';\nimport './Site.Status.css';\nimport { prods } from './Production.list.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Status extends React.Component {\n  constructor(prop) {\n    super(prop);\n    this.state = {\n      prods\n    };\n  }\n\n  setGreeting() {\n    var greetingOptions = [\"Hi there!\", \"Hey there!\"];\n    const now = new Date();\n    var greeting = \"\";\n    var pickGreeting = \"\";\n\n    if (now.getHours() < 12) {\n      greeting = \"Good morning!\";\n    } else if (now.getHours() < 18 && now.getHours() >= 12) {\n      greeting = \"Good afternoon!\";\n    } else if (now.getHours() < 23 && now.getHours() >= 18) {\n      greeting = \"Good evening!\";\n    }\n\n    ;\n\n    if (greeting) {\n      greetingOptions.push(greeting);\n      pickGreeting = greetingOptions[Math.floor(Math.random() * greetingOptions.length)];\n      return pickGreeting;\n    } else {\n      pickGreeting = greetingOptions[Math.floor(Math.random() * greetingOptions.length)];\n      return pickGreeting[0];\n    }\n\n    ;\n  }\n\n  setStatus() {\n    /*const today = new Date();*/\n    const today = new Date(Date.parse(\"2019-06-14\"));\n    var prodStatus = false;\n    var status = \"\";\n    prods.map(prod => {\n      var preStart = new Date(Date.parse(prod.date.preStart));\n      var fitupStart = new Date(Date.parse(prod.date.fitupStart));\n      var techStart = new Date(Date.parse(prod.date.techStart));\n      var runStart = new Date(Date.parse(prod.date.runStart));\n      var runEnd = new Date(Date.parse(prod.date.runEnd));\n      /*if (prod.producer) {\n        var showRef = prod.showName + \" (for \" + prod.producer + \")\"\n      } else {\n        var showRef = prod.showName\n      }*/\n\n      var showRef = prod.showName;\n\n      if (preStart <= today && fitupStart > today) {\n        prodStatus = \"in pre-production for <em>\" + showRef + \"</em>\";\n      } else if (fitupStart <= today && techStart > today) {\n        prodStatus = \"fitting up for <em>\" + showRef + \"</em>\";\n      } else if (techStart <= today && runStart > today) {\n        prodStatus = \"in tech rehearsals for <em>\" + showRef + \"</em>\";\n      } else if (runStart <= today && runEnd > today) {\n        prodStatus = \"working on performances of <em>\" + showRef + \"</em>\";\n      } else {\n        prodStatus = false;\n      }\n\n      ;\n\n      if (runEnd >= today && runStart <= today) {\n        prodStatus = \"working on performances of <em>\" + showRef + \"</em>\";\n      } else if (runStart >= today && techStart <= today) {\n        prodStatus = \"in tech rehearsals for <em>\" + showRef + \"</em>\";\n      } else if (techStart >= today && fitupStart <= today) {\n        prodStatus = \"fitting up for <em>\" + showRef + \"</em>\";\n      } else if (fitupStart >= today && preStart <= today) {\n        prodStatus = \"in pre-production for <em>\" + showRef + \"</em>\";\n      }\n\n      if (prodStatus) {\n        console.log(\"I am \" + prodStatus);\n\n        if (status === \"\") {\n          status = \"I am currently \" + prodStatus;\n        } else {\n          status = status.replace(\" & \", \", \");\n          status = status.concat(\" & \" + prodStatus);\n        }\n      }\n\n      ;\n    });\n    return status + \".\";\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"position-fixed top-0 end-0 p-3 status\",\n      style: {\n        zIndex: '5'\n      },\n      children: this.setStatus() !== \".\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"liveToast\",\n        className: \"toast fade-in-and-out\",\n        role: \"alert\",\n        \"aria-live\": \"assertive\",\n        \"aria-atomic\": \"true\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"toast-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: this.setGreeting()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"text\", {\n            dangerouslySetInnerHTML: {\n              __html: this.setStatus()\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 53\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\n{\n  /*  F L O A T I N G  */\n}\n{\n  /*<div className=\"position-fixed top-0 end-0 p-3 status\" style={{zIndex:'5'}}>\n   {this.setStatus() !== \".\" &&\n   <div id=\"liveToast\" className=\"toast fade-in-and-out\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">\n     <div class=\"toast-body\">\n       <strong>{this.setGreeting()}</strong> <text dangerouslySetInnerHTML={{__html:this.setStatus()}}></text>\n     </div>\n   </div>\n   }\n  </div>*/\n}\n{\n  /*  A L E R T  */\n}\n{\n  /*<div className=\"container-fluid\">\n   <div className=\"row justify-content-center\">\n     {this.setStatus() !== \".\" &&\n     <div className=\"col-md-6 mt-4\">\n       <div className=\"alert alert-primary alert-dismissible fade show\" role=\"alert\">\n         <strong>{this.setGreeting()}</strong> <text dangerouslySetInnerHTML={{__html: this.setStatus() }}></text>\n         <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\n       </div>\n     </div>\n     }\n   </div>\n  </div>*/\n}\nexport default Status;","map":{"version":3,"sources":["/Users/Ben/Documents/dev.bensmithsound.uk/src/Site.Status.js"],"names":["React","prods","Status","Component","constructor","prop","state","setGreeting","greetingOptions","now","Date","greeting","pickGreeting","getHours","push","Math","floor","random","length","setStatus","today","parse","prodStatus","status","map","prod","preStart","date","fitupStart","techStart","runStart","runEnd","showRef","showName","console","log","replace","concat","render","zIndex","__html"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport './Site.Status.css';\nimport {prods} from './Production.list.json';\n\nclass Status extends React.Component {\n  constructor(prop) {\n    super(prop);\n    this.state = {prods};\n  }\n\n  setGreeting() {\n    var greetingOptions = [\n      \"Hi there!\",\n      \"Hey there!\"\n    ]\n\n    const now = new Date();\n    var greeting = \"\"\n    var pickGreeting = \"\"\n\n    if(now.getHours() < 12) {\n      greeting = \"Good morning!\"\n    } else if(now.getHours() < 18 && now.getHours() >= 12) {\n      greeting = \"Good afternoon!\"\n    } else if(now.getHours() < 23 && now.getHours() >= 18) {\n      greeting = \"Good evening!\"\n    };\n\n    if(greeting) {\n      greetingOptions.push(greeting);\n      pickGreeting = greetingOptions[Math.floor(Math.random()*greetingOptions.length)];\n      return pickGreeting;\n    } else {\n      pickGreeting = greetingOptions[Math.floor(Math.random()*greetingOptions.length)];\n      return pickGreeting[0];\n    };\n  }\n\n  setStatus() {\n    /*const today = new Date();*/\n    const today = new Date(Date.parse(\"2019-06-14\"));\n    var prodStatus = false;\n    var status = \"\";\n\n    prods.map(prod => {\n      var preStart = new Date(Date.parse(prod.date.preStart));\n      var fitupStart = new Date(Date.parse(prod.date.fitupStart));\n      var techStart = new Date(Date.parse(prod.date.techStart));\n      var runStart = new Date(Date.parse(prod.date.runStart));\n      var runEnd = new Date(Date.parse(prod.date.runEnd));\n\n      /*if (prod.producer) {\n        var showRef = prod.showName + \" (for \" + prod.producer + \")\"\n      } else {\n        var showRef = prod.showName\n      }*/\n\n      var showRef = prod.showName;\n\n      if(preStart <= today && fitupStart > today) {\n        prodStatus = \"in pre-production for <em>\" + showRef + \"</em>\";\n      } else if(fitupStart <= today && techStart > today) {\n        prodStatus = \"fitting up for <em>\" + showRef + \"</em>\";\n      } else if(techStart <= today && runStart > today) {\n        prodStatus = \"in tech rehearsals for <em>\" + showRef + \"</em>\";\n      } else if(runStart <= today && runEnd > today) {\n        prodStatus = \"working on performances of <em>\" + showRef + \"</em>\";\n      } else {\n        prodStatus = false\n      };\n\n      if(runEnd >= today && runStart <= today) {\n        prodStatus = \"working on performances of <em>\" + showRef + \"</em>\";\n      } else if(runStart >= today && techStart <= today) {\n        prodStatus = \"in tech rehearsals for <em>\" + showRef + \"</em>\";\n      } else if(techStart >= today && fitupStart <= today) {\n        prodStatus = \"fitting up for <em>\" + showRef + \"</em>\";\n      } else if(fitupStart >= today && preStart <= today) {\n        prodStatus = \"in pre-production for <em>\" + showRef + \"</em>\";\n      }\n\n      if(prodStatus) {\n        console.log(\"I am \" + prodStatus);\n        if(status === \"\") {\n          status = \"I am currently \" + prodStatus;\n        } else {\n          status = status.replace(\" & \", \", \");\n          status = status.concat(\" & \" + prodStatus);\n        }\n      };\n\n    })\n\n    return(status + \".\");\n  }\n\n  render() {\n    return (\n      <div className=\"position-fixed top-0 end-0 p-3 status\" style={{zIndex:'5'}}>\n        {this.setStatus() !== \".\" &&\n          <div id=\"liveToast\" className=\"toast fade-in-and-out\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">\n            <div class=\"toast-body\">\n              <strong>{this.setGreeting()}</strong> <text dangerouslySetInnerHTML={{__html:this.setStatus()}}></text>\n            </div>\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\n\n{/*  F L O A T I N G  */}\n\n{/*<div className=\"position-fixed top-0 end-0 p-3 status\" style={{zIndex:'5'}}>\n  {this.setStatus() !== \".\" &&\n  <div id=\"liveToast\" className=\"toast fade-in-and-out\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">\n    <div class=\"toast-body\">\n      <strong>{this.setGreeting()}</strong> <text dangerouslySetInnerHTML={{__html:this.setStatus()}}></text>\n    </div>\n  </div>\n  }\n</div>*/}\n\n\n{/*  A L E R T  */}\n\n{/*<div className=\"container-fluid\">\n  <div className=\"row justify-content-center\">\n    {this.setStatus() !== \".\" &&\n    <div className=\"col-md-6 mt-4\">\n      <div className=\"alert alert-primary alert-dismissible fade show\" role=\"alert\">\n        <strong>{this.setGreeting()}</strong> <text dangerouslySetInnerHTML={{__html: this.setStatus() }}></text>\n        <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\n      </div>\n    </div>\n    }\n  </div>\n</div>*/}\n\nexport default Status;"]},"metadata":{},"sourceType":"module"}