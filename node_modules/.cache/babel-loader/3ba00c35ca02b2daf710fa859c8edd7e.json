{"ast":null,"code":"import _classCallCheck from\"/Users/Ben/Documents/www.bensmithsound.uk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Ben/Documents/www.bensmithsound.uk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/Ben/Documents/www.bensmithsound.uk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/Ben/Documents/www.bensmithsound.uk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Ben/Documents/www.bensmithsound.uk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./App.css';import Iframe from'react-iframe';import{prods}from'./Production.list.json';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Entry=/*#__PURE__*/function(_React$Component){_inherits(Entry,_React$Component);var _super=_createSuper(Entry);function Entry(props){var _this;_classCallCheck(this,Entry);_this=_super.call(this,props);_this.state={prod:props,collapsed:true,message:\"Read more...\",moving:false};_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));return _this;}_createClass(Entry,[{key:\"handleClick\",value:function handleClick(e){var _this2=this;var readMore='Read more...';var readLess='Read less...';e.preventDefault();if(this.state.moving===false){if(this.state.collapsed){this.setState(function(state){return{message:readLess};});}else{this.setState(function(state){return{message:readMore};});};this.setState(function(state){return{collapsed:!state.collapsed};});this.setState(function(state){return{moving:true};});setTimeout(function(){_this2.setState(function(state){return{moving:false};});},350);}}},{key:\"render\",value:function render(){var prod=this.props;return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid px-4 mb-4 show-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row gx-5 align-items-center position-relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 gy-4\",children:/*#__PURE__*/_jsx(\"figure\",{className:\"figure\",children:/*#__PURE__*/_jsx(\"img\",{src:\"images/show-posters/\"+prod.poster,alt:prod.altText,className:\"figure-img img-fluid rounded shadow\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm gy-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"show-info-name\",children:prod.showName}),/*#__PURE__*/_jsxs(\"p\",{className:\"show-info-role\",children:[/*#__PURE__*/_jsx(\"strong\",{children:prod.role}),\" | \",prod.venue,/*#__PURE__*/_jsx(\"br\",{}),prod.producer]}),/*#__PURE__*/_jsxs(\"p\",{className:\"show-info-creatives\",children:[prod.director,/*#__PURE__*/_jsx(\"br\",{}),prod.soundDesigner]}),/*#__PURE__*/_jsx(\"p\",{className:\"show-info-readmore\",children:/*#__PURE__*/_jsxs(\"a\",{\"data-bs-toggle\":\"collapse\",href:\"#\"+prod.collapseId,role:\"button\",\"aria-expanded\":\"false\",\"aria-controls\":prod.collapseId,className:\"stretched-link text-decoration-none text-reset\",onClick:this.handleClick,children:[/*#__PURE__*/_jsx(\"small\",{children:/*#__PURE__*/_jsx(\"i\",{className:this.state.collapsed?'bi-caret-down-fill':'bi-caret-up-fill'})}),\" \",this.state.message]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"show-info-date\",children:prod.dateString})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse\",id:prod.collapseId,children:/*#__PURE__*/_jsxs(\"div\",{className:\"row gx-5 justify-content-center pt-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 mb-2 show-info-desc\",children:[prod.writers!==undefined&&/*#__PURE__*/_jsx(\"p\",{className:\"show-info-creatives\",children:prod.writers.map(function(writers){return/*#__PURE__*/_jsxs(\"span\",{children:[writers.credit,/*#__PURE__*/_jsx(\"br\",{})]});})}),prod.descLead!==\"\"&&/*#__PURE__*/_jsx(\"p\",{className:\"lead\",children:prod.descLead}),prod.descRest.map(function(desc){return/*#__PURE__*/_jsx(\"p\",{children:desc.text});}),/*#__PURE__*/_jsx(\"div\",{children:prod.mainVideo.map(function(video){return/*#__PURE__*/_jsx(\"div\",{children:video.url&&/*#__PURE__*/_jsx(\"div\",{className:\"ratio ratio-16x9 mt-5 mb-2\",children:/*#__PURE__*/_jsx(Iframe,{width:video.width,height:video.height,url:video.url,title:video.title,frameborder:video.frameborder,allow:video.allow,allowFullScreen:true,className:\"embedded-video\"})})});})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-3 mb-2 show-info-sidebar\",children:[prod.quotes.map(function(quote){return/*#__PURE__*/_jsx(\"div\",{children:!quote.acw||quote.cw?/*#__PURE__*/_jsxs(\"figure\",{className:\"sticky sticky-b\",children:[/*#__PURE__*/_jsx(\"blockquote\",{className:\"blockquote\",children:quote.text}),quote.source&&/*#__PURE__*/_jsx(\"figcaption\",{className:\"blockquote-footer text-end\",children:/*#__PURE__*/_jsx(\"cite\",{title:quote.source,children:quote.source})})]}):/*#__PURE__*/_jsxs(\"figure\",{className:\"sticky sticky-a\",children:[/*#__PURE__*/_jsx(\"blockquote\",{className:\"blockquote\",children:quote.text}),quote.source&&/*#__PURE__*/_jsx(\"figcaption\",{className:\"blockquote-footer text-end\",children:/*#__PURE__*/_jsx(\"cite\",{title:quote.source,children:quote.source})})]})});}),prod.sideVideo.map(function(video){return/*#__PURE__*/_jsx(\"div\",{children:video.url&&/*#__PURE__*/_jsx(\"div\",{className:\"ratio ratio-16x9 mt-5 mb-2\",children:/*#__PURE__*/_jsx(Iframe,{width:video.width,height:video.height,url:video.url,title:video.title,frameborder:video.frameborder,allow:video.allow,allowFullScreen:true,className:\"embedded-video\"})})});})]})]})})]})});}}]);return Entry;}(React.Component);var Productions=/*#__PURE__*/function(_React$Component2){_inherits(Productions,_React$Component2);var _super2=_createSuper(Productions);function Productions(props){var _this3;_classCallCheck(this,Productions);_this3=_super2.call(this,props);_this3.state={productions:prods,filteredProds:[],collapsed:true,message:\"Read more...\"};_this3.handleChangeRole=_this3.handleChangeRole.bind(_assertThisInitialized(_this3));_this3.handleChangeSearch=_this3.handleChangeSearch.bind(_assertThisInitialized(_this3));return _this3;}_createClass(Productions,[{key:\"checkDate\",value:function checkDate(i){var currentDate=new Date();var runStart=new Date(Date.parse(i));var hasStarted=runStart<=currentDate;return hasStarted;}},{key:\"filterProdsByRole\",value:function filterProdsByRole(input){var filtered=[];this.state.productions.filter(function(prod){var role=\"\";if(prod.role===\"Sound Operator\"){role=\"Sound No. 1\";}else{role=prod.role;}if(role.includes(input)){filtered.push(prod);}else if(input===\"\"){filtered.push(prod);};return filtered;});this.setState({filteredProds:filtered});return filtered;}},{key:\"filterProdsBySearch\",value:function filterProdsBySearch(input){var filtered=[];this.state.productions.filter(function(prod){var writersStr=\"\";var descStr=\"\";prod.writers.map(function(writers){writersStr=writersStr+writers.credit;return null;});prod.descRest.map(function(paragraph){descStr=descStr+paragraph.text;return null;});if(prod.role.toLowerCase().includes(input.toLowerCase())||prod.showName.toLowerCase().includes(input.toLowerCase())||prod.descLead.toLowerCase().includes(input.toLowerCase())||prod.director.toLowerCase().includes(input.toLowerCase())||prod.soundDesigner.toLowerCase().includes(input.toLowerCase())||prod.venue.toLowerCase().includes(input.toLowerCase())||prod.producer.toLowerCase().includes(input.toLowerCase())||writersStr.toLowerCase().includes(input.toLowerCase())||descStr.toLowerCase().includes(input.toLowerCase())){filtered.push(prod);}else if(input===\"\"){filtered.push(prod);}return filtered;});this.setState({filteredProds:filtered});return filtered;}},{key:\"componentDidMount\",value:function componentDidMount(){this.filterProdsByRole(\"\");}},{key:\"handleChangeRole\",value:function handleChangeRole(e){this.filterProdsByRole(e.target.value);}},{key:\"handleChangeSearch\",value:function handleChangeSearch(e){this.filterProdsBySearch(e.target.value);}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row gx-2 mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"mt-3 page-heading-2 display-5\",children:\"Recent Projects\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 d-none d-lg-block\",children:/*#__PURE__*/_jsx(\"input\",{className:\"mt-4 form-control\",placeholder:\"Filter productions\",onChange:this.handleChangeSearch})})]})}),this.state.filteredProds.reverse().map(function(prod){if(_this4.checkDate(prod.date.runStart)&&prod.shown){return/*#__PURE__*/_jsx(Entry,{poster:prod.poster,altText:prod.altText,showName:prod.showName,role:prod.role,venue:prod.venue,producer:prod.producer,director:prod.director,soundDesigner:prod.soundDesigner,dateString:prod.dateString,writers:prod.writers,collapseId:prod.collapseId,descLead:prod.descLead,descRest:prod.descRest,mainVideo:prod.mainVideo,sideVideo:prod.sideVideo,quotes:prod.quotes});}else{return null;}})]});}}]);return Productions;}(React.Component);export default Productions;","map":{"version":3,"sources":["/Users/Ben/Documents/www.bensmithsound.uk/src/Home.Production.js"],"names":["React","Iframe","prods","Entry","props","state","prod","collapsed","message","moving","handleClick","bind","e","readMore","readLess","preventDefault","setState","setTimeout","poster","altText","showName","role","venue","producer","director","soundDesigner","collapseId","dateString","writers","undefined","map","credit","descLead","descRest","desc","text","mainVideo","video","url","width","height","title","frameborder","allow","quotes","quote","acw","cw","source","sideVideo","Component","Productions","productions","filteredProds","handleChangeRole","handleChangeSearch","i","currentDate","Date","runStart","parse","hasStarted","input","filtered","filter","includes","push","writersStr","descStr","paragraph","toLowerCase","filterProdsByRole","target","value","filterProdsBySearch","reverse","checkDate","date","shown"],"mappings":"gyBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,OAAQC,KAAR,KAAoB,wBAApB,C,2FAEMC,CAAAA,K,0GACJ,eAAYC,KAAZ,CAAmB,uCACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,IAAI,CAAEF,KADK,CAEXG,SAAS,CAAE,IAFA,CAGXC,OAAO,CAAE,cAHE,CAIXC,MAAM,CAAE,KAJG,CAAb,CAMA,MAAKC,WAAL,CAAmB,MAAKA,WAAL,CAAiBC,IAAjB,+BAAnB,CARiB,aASlB,C,6CAED,qBAAYC,CAAZ,CAAe,iBACb,GAAMC,CAAAA,QAAQ,CAAG,cAAjB,CACA,GAAMC,CAAAA,QAAQ,CAAG,cAAjB,CAEAF,CAAC,CAACG,cAAF,GAEA,GAAI,KAAKV,KAAL,CAAWI,MAAX,GAAsB,KAA1B,CAAiC,CAE/B,GAAI,KAAKJ,KAAL,CAAWE,SAAf,CAA0B,CACxB,KAAKS,QAAL,CAAc,SAAAX,KAAK,QAAK,CACtBG,OAAO,CAAEM,QADa,CAAL,EAAnB,EAGD,CAJD,IAIO,CACL,KAAKE,QAAL,CAAc,SAAAX,KAAK,QAAK,CACtBG,OAAO,CAAEK,QADa,CAAL,EAAnB,EAGD,EAED,KAAKG,QAAL,CAAc,SAAAX,KAAK,QAAK,CACtBE,SAAS,CAAE,CAACF,KAAK,CAACE,SADI,CAAL,EAAnB,EAIA,KAAKS,QAAL,CAAc,SAAAX,KAAK,QAAK,CACtBI,MAAM,CAAE,IADc,CAAL,EAAnB,EAGAQ,UAAU,CAAC,UAAM,CAAG,MAAI,CAACD,QAAL,CAAc,SAAAX,KAAK,QAAK,CAC1CI,MAAM,CAAE,KADkC,CAAL,EAAnB,EAEd,CAFI,CAEF,GAFE,CAAV,CAID,CAEF,C,sBAGD,iBAAS,CACP,GAAMH,CAAAA,IAAI,CAAG,KAAKF,KAAlB,CACA,mBACE,YAAK,SAAS,CAAC,iBAAf,uBACE,aAAK,SAAS,CAAC,qCAAf,wBACE,aAAK,SAAS,CAAC,+CAAf,wBAGE,YAAK,SAAS,CAAC,eAAf,uBAGE,eAAQ,SAAS,CAAC,QAAlB,uBACE,YAAK,GAAG,CAAG,uBAAyBE,IAAI,CAACY,MAAzC,CAAkD,GAAG,CAAGZ,IAAI,CAACa,OAA7D,CAAuE,SAAS,CAAC,qCAAjF,EADF,EAHF,EAHF,cAYE,aAAK,SAAS,CAAC,aAAf,wBAGE,UAAG,SAAS,CAAC,gBAAb,UAA+Bb,IAAI,CAACc,QAApC,EAHF,cAIE,WAAG,SAAS,CAAC,gBAAb,wBAA8B,wBAASd,IAAI,CAACe,IAAd,EAA9B,OAA8Df,IAAI,CAACgB,KAAnE,cAAyE,aAAzE,CAAgFhB,IAAI,CAACiB,QAArF,GAJF,cAKE,WAAG,SAAS,CAAC,qBAAb,WAAoCjB,IAAI,CAACkB,QAAzC,cAAkD,aAAlD,CAAyDlB,IAAI,CAACmB,aAA9D,GALF,cAME,UAAG,SAAS,CAAC,oBAAb,uBACE,WACE,iBAAe,UADjB,CAEE,IAAI,CAAE,IAAMnB,IAAI,CAACoB,UAFnB,CAGE,IAAI,CAAC,QAHP,CAIE,gBAAc,OAJhB,CAKE,gBAAepB,IAAI,CAACoB,UALtB,CAME,SAAS,CAAC,gDANZ,CAOE,OAAO,CAAG,KAAKhB,WAPjB,wBASE,oCAAO,UAAG,SAAS,CAAE,KAAKL,KAAL,CAAWE,SAAX,CAAuB,oBAAvB,CAA8C,kBAA5D,EAAP,EATF,KASsG,KAAKF,KAAL,CAAWG,OATjH,GADF,EANF,GAZF,cAkCE,YAAK,SAAS,CAAC,UAAf,uBACE,UAAG,SAAS,CAAC,gBAAb,UAA+BF,IAAI,CAACqB,UAApC,EADF,EAlCF,GADF,cAyCE,YACE,SAAS,CAAC,UADZ,CAEE,EAAE,CAAErB,IAAI,CAACoB,UAFX,uBAIE,aAAK,SAAS,CAAC,sCAAf,wBAGE,YAAK,SAAS,CAAC,UAAf,EAHF,cAME,aAAK,SAAS,CAAC,8BAAf,WAGGpB,IAAI,CAACsB,OAAL,GAAiBC,SAAjB,eACC,UAAG,SAAS,CAAC,qBAAb,UACGvB,IAAI,CAACsB,OAAL,CAAaE,GAAb,CAAiB,SAAAF,OAAO,qBACvB,wBAAOA,OAAO,CAACG,MAAf,cAAsB,aAAtB,GADuB,EAAxB,CADH,EAJJ,CAYGzB,IAAI,CAAC0B,QAAL,GAAkB,EAAlB,eACC,UAAG,SAAS,CAAC,MAAb,UAAqB1B,IAAI,CAAC0B,QAA1B,EAbJ,CAiBG1B,IAAI,CAAC2B,QAAL,CAAcH,GAAd,CAAkB,SAAAI,IAAI,qBACrB,mBAAIA,IAAI,CAACC,IAAT,EADqB,EAAtB,CAjBH,cAsBE,qBACG7B,IAAI,CAAC8B,SAAL,CAAeN,GAAf,CAAmB,SAAAO,KAAK,qBACvB,qBACGA,KAAK,CAACC,GAAN,eACC,YAAK,SAAS,CAAC,4BAAf,uBACE,KAAC,MAAD,EACE,KAAK,CAAED,KAAK,CAACE,KADf,CAEE,MAAM,CAAEF,KAAK,CAACG,MAFhB,CAGE,GAAG,CAAEH,KAAK,CAACC,GAHb,CAIE,KAAK,CAAED,KAAK,CAACI,KAJf,CAKE,WAAW,CAAEJ,KAAK,CAACK,WALrB,CAME,KAAK,CAAEL,KAAK,CAACM,KANf,CAOE,eAAe,KAPjB,CAQE,SAAS,CAAC,gBARZ,EADF,EAFJ,EADuB,EAAxB,CADH,EAtBF,GANF,cAmDE,aAAK,SAAS,CAAC,iCAAf,WAGGrC,IAAI,CAACsC,MAAL,CAAYd,GAAZ,CAAgB,SAAAe,KAAK,qBACtB,qBACG,CAACA,KAAK,CAACC,GAAP,EAAcD,KAAK,CAACE,EAApB,cACG,gBAAQ,SAAS,CAAC,iBAAlB,wBACA,mBAAY,SAAS,CAAC,YAAtB,UAAoCF,KAAK,CAACV,IAA1C,EADA,CAECU,KAAK,CAACG,MAAN,eACD,mBAAY,SAAS,CAAC,4BAAtB,uBACE,aAAM,KAAK,CAAEH,KAAK,CAACG,MAAnB,UAA4BH,KAAK,CAACG,MAAlC,EADF,EAHA,GADH,cASG,gBAAQ,SAAS,CAAC,iBAAlB,wBACF,mBAAY,SAAS,CAAC,YAAtB,UAAoCH,KAAK,CAACV,IAA1C,EADE,CAEDU,KAAK,CAACG,MAAN,eACD,mBAAY,SAAS,CAAC,4BAAtB,uBACE,aAAM,KAAK,CAAEH,KAAK,CAACG,MAAnB,UAA4BH,KAAK,CAACG,MAAlC,EADF,EAHE,GAVN,EADsB,EAArB,CAHH,CA2BC1C,IAAI,CAAC2C,SAAL,CAAenB,GAAf,CAAmB,SAAAO,KAAK,qBACvB,qBACGA,KAAK,CAACC,GAAN,eACC,YAAK,SAAS,CAAC,4BAAf,uBACE,KAAC,MAAD,EACE,KAAK,CAAED,KAAK,CAACE,KADf,CAEE,MAAM,CAAEF,KAAK,CAACG,MAFhB,CAGE,GAAG,CAAEH,KAAK,CAACC,GAHb,CAIE,KAAK,CAAED,KAAK,CAACI,KAJf,CAKE,WAAW,CAAEJ,KAAK,CAACK,WALrB,CAME,KAAK,CAAEL,KAAK,CAACM,KANf,CAOE,eAAe,KAPjB,CAQE,SAAS,CAAC,gBARZ,EADF,EAFJ,EADuB,EAAxB,CA3BD,GAnDF,GAJF,EAzCF,GADF,EADF,CAoJH,C,mBApMmB3C,KAAK,CAACkD,S,KAwMpBC,CAAAA,W,yHACJ,qBAAY/C,KAAZ,CAAmB,8CACjB,yBAAMA,KAAN,EACA,OAAKC,KAAL,CAAa,CACX+C,WAAW,CAAElD,KADF,CAEXmD,aAAa,CAAE,EAFJ,CAGX9C,SAAS,CAAE,IAHA,CAIXC,OAAO,CAAE,cAJE,CAAb,CAMA,OAAK8C,gBAAL,CAAwB,OAAKA,gBAAL,CAAsB3C,IAAtB,gCAAxB,CACA,OAAK4C,kBAAL,CAA0B,OAAKA,kBAAL,CAAwB5C,IAAxB,gCAA1B,CATiB,cAUlB,C,iDAED,mBAAU6C,CAAV,CAAa,CACX,GAAMC,CAAAA,WAAW,CAAG,GAAIC,CAAAA,IAAJ,EAApB,CACA,GAAIC,CAAAA,QAAQ,CAAG,GAAID,CAAAA,IAAJ,CAASA,IAAI,CAACE,KAAL,CAAWJ,CAAX,CAAT,CAAf,CACA,GAAIK,CAAAA,UAAU,CAAGF,QAAQ,EAAIF,WAA7B,CACA,MAAOI,CAAAA,UAAP,CACD,C,iCAED,2BAAkBC,KAAlB,CAAyB,CACvB,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CACA,KAAK1D,KAAL,CAAW+C,WAAX,CAAuBY,MAAvB,CAA+B,SAAA1D,IAAI,CAAI,CACrC,GAAIe,CAAAA,IAAI,CAAG,EAAX,CACA,GAAIf,IAAI,CAACe,IAAL,GAAc,gBAAlB,CAAoC,CAClCA,IAAI,CAAG,aAAP,CACD,CAFD,IAEO,CACLA,IAAI,CAAGf,IAAI,CAACe,IAAZ,CACD,CACD,GAAIA,IAAI,CAAC4C,QAAL,CAAcH,KAAd,CAAJ,CAA0B,CACxBC,QAAQ,CAACG,IAAT,CAAc5D,IAAd,EACD,CAFD,IAEO,IAAIwD,KAAK,GAAK,EAAd,CAAkB,CACvBC,QAAQ,CAACG,IAAT,CAAc5D,IAAd,EACD,EACD,MAAOyD,CAAAA,QAAP,CACD,CAbD,EAcA,KAAK/C,QAAL,CAAc,CAACqC,aAAa,CAAEU,QAAhB,CAAd,EACA,MAAOA,CAAAA,QAAP,CACD,C,mCAED,6BAAoBD,KAApB,CAA2B,CACzB,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CACA,KAAK1D,KAAL,CAAW+C,WAAX,CAAuBY,MAAvB,CAA+B,SAAA1D,IAAI,CAAI,CACrC,GAAI6D,CAAAA,UAAU,CAAG,EAAjB,CACA,GAAIC,CAAAA,OAAO,CAAG,EAAd,CACA9D,IAAI,CAACsB,OAAL,CAAaE,GAAb,CAAiB,SAAAF,OAAO,CAAI,CAC1BuC,UAAU,CAAGA,UAAU,CAAGvC,OAAO,CAACG,MAAlC,CACA,MAAO,KAAP,CACD,CAHD,EAIAzB,IAAI,CAAC2B,QAAL,CAAcH,GAAd,CAAkB,SAAAuC,SAAS,CAAI,CAC7BD,OAAO,CAAGA,OAAO,CAAGC,SAAS,CAAClC,IAA9B,CACA,MAAO,KAAP,CACD,CAHD,EAKA,GACE7B,IAAI,CAACe,IAAL,CAAUiD,WAAV,GAAwBL,QAAxB,CAAiCH,KAAK,CAACQ,WAAN,EAAjC,GACAhE,IAAI,CAACc,QAAL,CAAckD,WAAd,GAA4BL,QAA5B,CAAqCH,KAAK,CAACQ,WAAN,EAArC,CADA,EAEAhE,IAAI,CAAC0B,QAAL,CAAcsC,WAAd,GAA4BL,QAA5B,CAAqCH,KAAK,CAACQ,WAAN,EAArC,CAFA,EAGAhE,IAAI,CAACkB,QAAL,CAAc8C,WAAd,GAA4BL,QAA5B,CAAqCH,KAAK,CAACQ,WAAN,EAArC,CAHA,EAIAhE,IAAI,CAACmB,aAAL,CAAmB6C,WAAnB,GAAiCL,QAAjC,CAA0CH,KAAK,CAACQ,WAAN,EAA1C,CAJA,EAKAhE,IAAI,CAACgB,KAAL,CAAWgD,WAAX,GAAyBL,QAAzB,CAAkCH,KAAK,CAACQ,WAAN,EAAlC,CALA,EAMAhE,IAAI,CAACiB,QAAL,CAAc+C,WAAd,GAA4BL,QAA5B,CAAqCH,KAAK,CAACQ,WAAN,EAArC,CANA,EAOAH,UAAU,CAACG,WAAX,GAAyBL,QAAzB,CAAkCH,KAAK,CAACQ,WAAN,EAAlC,CAPA,EAQAF,OAAO,CAACE,WAAR,GAAsBL,QAAtB,CAA+BH,KAAK,CAACQ,WAAN,EAA/B,CATF,CAUE,CACAP,QAAQ,CAACG,IAAT,CAAc5D,IAAd,EACD,CAZD,IAYO,IAAIwD,KAAK,GAAK,EAAd,CAAkB,CACvBC,QAAQ,CAACG,IAAT,CAAc5D,IAAd,EACD,CACD,MAAOyD,CAAAA,QAAP,CACD,CA5BD,EA6BA,KAAK/C,QAAL,CAAc,CAACqC,aAAa,CAAEU,QAAhB,CAAd,EACA,MAAOA,CAAAA,QAAP,CACD,C,iCAED,4BAAoB,CAClB,KAAKQ,iBAAL,CAAuB,EAAvB,EACD,C,gCAED,0BAAiB3D,CAAjB,CAAoB,CAClB,KAAK2D,iBAAL,CAAuB3D,CAAC,CAAC4D,MAAF,CAASC,KAAhC,EACD,C,kCAED,4BAAmB7D,CAAnB,CAAsB,CACpB,KAAK8D,mBAAL,CAAyB9D,CAAC,CAAC4D,MAAF,CAASC,KAAlC,EACD,C,sBAED,iBAAS,iBACP,mBACE,oCACE,YAAK,SAAS,CAAC,iBAAf,uBACE,aAAK,SAAS,CAAC,eAAf,wBACE,YAAK,SAAS,CAAC,UAAf,EADF,cAEE,YAAK,SAAS,CAAC,UAAf,uBAEE,WAAI,SAAS,CAAC,+BAAd,6BAFF,EAFF,cAME,YAAK,SAAS,CAAC,4BAAf,uBACE,cAAO,SAAS,CAAC,mBAAjB,CAAqC,WAAW,CAAC,oBAAjD,CAAsE,QAAQ,CAAE,KAAKlB,kBAArF,EADF,EANF,GADF,EADF,CAgBG,KAAKlD,KAAL,CAAWgD,aAAX,CAAyBsB,OAAzB,GAAmC7C,GAAnC,CAAuC,SAAAxB,IAAI,CAAI,CAChD,GAAI,MAAI,CAACsE,SAAL,CAAetE,IAAI,CAACuE,IAAL,CAAUlB,QAAzB,GAAsCrD,IAAI,CAACwE,KAA/C,CAAuD,CACvD,mBACE,KAAC,KAAD,EACE,MAAM,CAAExE,IAAI,CAACY,MADf,CAEE,OAAO,CAAEZ,IAAI,CAACa,OAFhB,CAGE,QAAQ,CAAEb,IAAI,CAACc,QAHjB,CAIE,IAAI,CAAEd,IAAI,CAACe,IAJb,CAKE,KAAK,CAAEf,IAAI,CAACgB,KALd,CAME,QAAQ,CAAEhB,IAAI,CAACiB,QANjB,CAOE,QAAQ,CAAEjB,IAAI,CAACkB,QAPjB,CAQE,aAAa,CAAElB,IAAI,CAACmB,aARtB,CASE,UAAU,CAAEnB,IAAI,CAACqB,UATnB,CAUE,OAAO,CAAErB,IAAI,CAACsB,OAVhB,CAWE,UAAU,CAAEtB,IAAI,CAACoB,UAXnB,CAYE,QAAQ,CAAEpB,IAAI,CAAC0B,QAZjB,CAaE,QAAQ,CAAE1B,IAAI,CAAC2B,QAbjB,CAcE,SAAS,CAAE3B,IAAI,CAAC8B,SAdlB,CAeE,SAAS,CAAE9B,IAAI,CAAC2C,SAflB,CAgBE,MAAM,CAAE3C,IAAI,CAACsC,MAhBf,EADF,CAmBE,CApBF,IAoBQ,CACN,MAAO,KAAP,CACD,CAAC,CAvBD,CAhBH,GADF,CA2CD,C,yBAnIuB5C,KAAK,CAACkD,S,EAsIhC,cAAeC,CAAAA,WAAf","sourcesContent":["import React from 'react';\nimport './App.css';\nimport Iframe from 'react-iframe';\nimport {prods} from './Production.list.json';\n\nclass Entry extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      prod: props,\n      collapsed: true,\n      message: \"Read more...\",\n      moving: false\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick(e) {\n    const readMore = 'Read more...';\n    const readLess = 'Read less...';\n\n    e.preventDefault();\n\n    if (this.state.moving === false) {\n\n      if (this.state.collapsed) {\n        this.setState(state => ({\n          message: readLess\n        }));\n      } else {\n        this.setState(state => ({\n          message: readMore\n        }));\n      };\n\n      this.setState(state => ({\n        collapsed: !state.collapsed\n      }));\n\n      this.setState(state => ({\n        moving: true\n      }))\n      setTimeout(() => {  this.setState(state => ({\n        moving: false\n      })); }, 350);\n\n    }\n\n  }\n  \n  \n  render() {\n    const prod = this.props;\n    return(\n      <div className=\"container-fluid\">\n        <div className=\"container-fluid px-4 mb-4 show-info\">\n          <div className=\"row gx-5 align-items-center position-relative\">\n\n            {/*  L E F T  C O L U M N  */}\n            <div className=\"col-md-3 gy-4\">\n\n              {/*  S H O W  I M A G E  */}\n              <figure className=\"figure\">\n                <img src={ \"images/show-posters/\" + prod.poster } alt={ prod.altText } className=\"figure-img img-fluid rounded shadow\"/>\n              </figure>\n            </div>\n\n            {/*  C E N T R E  C O L U M N  */}\n            <div className=\"col-sm gy-3\">\n\n              {/*  T I T L E - C A R D  I N F O  */}\n              <p className=\"show-info-name\">{prod.showName}</p>\n              <p className=\"show-info-role\"><strong>{prod.role}</strong> | {prod.venue}<br />{prod.producer}</p>\n              <p className=\"show-info-creatives\">{prod.director}<br />{prod.soundDesigner}</p>\n              <p className=\"show-info-readmore\">\n                <a\n                  data-bs-toggle=\"collapse\"\n                  href={\"#\" + prod.collapseId}\n                  role=\"button\"\n                  aria-expanded=\"false\"\n                  aria-controls={prod.collapseId}\n                  className=\"stretched-link text-decoration-none text-reset\"\n                  onClick={ this.handleClick }\n                >\n                  <small><i className={this.state.collapsed ? 'bi-caret-down-fill' : 'bi-caret-up-fill'} /></small> { this.state.message }\n                </a>\n              </p>\n            </div>\n\n            {/*  R I G H T  C O L U M N  */}\n            <div className=\"col-sm-2\">\n              <p className=\"show-info-date\">{prod.dateString}</p>\n            </div>\n          </div>\n\n          {/*  C O L L A P S E D  I N F O  */}\n          <div\n            className=\"collapse\"\n            id={prod.collapseId}\n          >\n            <div className=\"row gx-5 justify-content-center pt-3\">\n              \n              {/*  L E F T  C O L U M N  ( F O R  S P A C I N G )  */}\n              <div className=\"col-md-3\"></div>\n\n              {/*  C E N T R E  C O L U M N  */}\n              <div className=\"col-md-6 mb-2 show-info-desc\">\n\n                {/*  W R I T I N G  C R E D I T S  L O O P  */}\n                {prod.writers !== undefined && \n                  <p className=\"show-info-creatives\">\n                    {prod.writers.map(writers =>(\n                      <span>{writers.credit}<br /></span>\n                    ))}\n                  </p>\n                }\n\n                {/*  D E S C R I P T I O N  F I R S T  P A R A G R A P H  */}\n                {prod.descLead !== \"\" &&\n                  <p className=\"lead\">{prod.descLead}</p>\n                }\n\n                {/*  D E S C R I P T I O N  L O O P  */}\n                {prod.descRest.map(desc => (\n                  <p>{desc.text}</p>\n                ))}\n\n                {/*  V I D E O  ( I N  C E N T R E  C O L U M N )  */}\n                <div>\n                  {prod.mainVideo.map(video => (\n                    <div>\n                      {video.url &&\n                        <div className=\"ratio ratio-16x9 mt-5 mb-2\">\n                          <Iframe\n                            width={video.width}\n                            height={video.height}\n                            url={video.url}\n                            title={video.title}\n                            frameborder={video.frameborder}\n                            allow={video.allow}\n                            allowFullScreen\n                            className=\"embedded-video\"\n                          />\n                        </div>\n                      }\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/*  R I G H T  C O L U M N  */}\n              <div className=\"col-md-3 mb-2 show-info-sidebar\">\n\n                {/*  Q U O T E S  A N D  S T I C K Y  L O O P  */}\n                {prod.quotes.map(quote => (\n                <div>\n                  {!quote.acw || quote.cw\n                    ? <figure className=\"sticky sticky-b\">\n                      <blockquote className=\"blockquote\">{quote.text}</blockquote>\n                      {quote.source && \n                      <figcaption className=\"blockquote-footer text-end\">\n                        <cite title={quote.source}>{quote.source}</cite>\n                      </figcaption>\n                      }\n                    </figure>\n                    : <figure className=\"sticky sticky-a\">\n                    <blockquote className=\"blockquote\">{quote.text}</blockquote>\n                    {quote.source &&\n                    <figcaption className=\"blockquote-footer text-end\">\n                      <cite title={quote.source}>{quote.source}</cite>\n                    </figcaption>\n                    }\n                    </figure>\n                  }\n                </div>\n              ))}\n\n              {/*  V I D E O  ( R I G H T  C O L U M N )  */}\n              {prod.sideVideo.map(video => (\n                <div>\n                  {video.url &&\n                    <div className=\"ratio ratio-16x9 mt-5 mb-2\">\n                      <Iframe\n                        width={video.width}\n                        height={video.height}\n                        url={video.url}\n                        title={video.title}\n                        frameborder={video.frameborder}\n                        allow={video.allow}\n                        allowFullScreen \n                        className=\"embedded-video\"\n                      />\n                    </div> }\n                </div>\n              ))}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n}\n}\n\n\nclass Productions extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      productions: prods,\n      filteredProds: [],\n      collapsed: true,\n      message: \"Read more...\"\n    };\n    this.handleChangeRole = this.handleChangeRole.bind(this);\n    this.handleChangeSearch = this.handleChangeSearch.bind(this);\n  }\n\n  checkDate(i) {\n    const currentDate = new Date();\n    var runStart = new Date(Date.parse(i));\n    var hasStarted = runStart <= currentDate;\n    return(hasStarted);\n  }\n\n  filterProdsByRole(input) {\n    var filtered = [];\n    this.state.productions.filter( prod => {\n      var role = \"\"\n      if (prod.role === \"Sound Operator\") {\n        role = \"Sound No. 1\";\n      } else {\n        role = prod.role;\n      }\n      if (role.includes(input)) {\n        filtered.push(prod);\n      } else if (input === \"\") {\n        filtered.push(prod);\n      };\n      return filtered;\n    });\n    this.setState({filteredProds: filtered});\n    return filtered;\n  }\n\n  filterProdsBySearch(input) {\n    var filtered = [];\n    this.state.productions.filter( prod => {\n      var writersStr = \"\";\n      var descStr = \"\";\n      prod.writers.map(writers => {\n        writersStr = writersStr + writers.credit;\n        return null;\n      });\n      prod.descRest.map(paragraph => {\n        descStr = descStr + paragraph.text;\n        return null;\n      });\n\n      if (\n        prod.role.toLowerCase().includes(input.toLowerCase()) ||\n        prod.showName.toLowerCase().includes(input.toLowerCase()) ||\n        prod.descLead.toLowerCase().includes(input.toLowerCase()) ||\n        prod.director.toLowerCase().includes(input.toLowerCase()) ||\n        prod.soundDesigner.toLowerCase().includes(input.toLowerCase()) ||\n        prod.venue.toLowerCase().includes(input.toLowerCase()) ||\n        prod.producer.toLowerCase().includes(input.toLowerCase()) ||\n        writersStr.toLowerCase().includes(input.toLowerCase()) ||\n        descStr.toLowerCase().includes(input.toLowerCase())\n      ) {\n        filtered.push(prod);\n      } else if (input === \"\") {\n        filtered.push(prod);\n      }\n      return filtered\n    });\n    this.setState({filteredProds: filtered});\n    return filtered\n  }\n\n  componentDidMount() {\n    this.filterProdsByRole(\"\");\n  }\n\n  handleChangeRole(e) {\n    this.filterProdsByRole(e.target.value);\n  }\n\n  handleChangeSearch(e) {\n    this.filterProdsBySearch(e.target.value);\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"container-fluid\">\n          <div className=\"row gx-2 mb-2\">\n            <div className=\"col-md-3\"></div>\n            <div className=\"col-md-6\">\n              {/*  H E A D I N G  */}\n              <h1 className=\"mt-3 page-heading-2 display-5\">Recent Projects</h1>\n            </div>\n            <div className=\"col-md-3 d-none d-lg-block\">\n              <input className=\"mt-4 form-control\" placeholder=\"Filter productions\" onChange={this.handleChangeSearch}></input>\n            </div>\n          </div>\n        </div>\n\n\n        {/*  L O O P  T H R O U G H  P R O D U C T I O N S  */}\n        {this.state.filteredProds.reverse().map(prod => {\n        if( this.checkDate(prod.date.runStart) && prod.shown ) {\n        return (\n          <Entry\n            poster={prod.poster}\n            altText={prod.altText}\n            showName={prod.showName}\n            role={prod.role}\n            venue={prod.venue}\n            producer={prod.producer}\n            director={prod.director}\n            soundDesigner={prod.soundDesigner}\n            dateString={prod.dateString}\n            writers={prod.writers}\n            collapseId={prod.collapseId}\n            descLead={prod.descLead}\n            descRest={prod.descRest}\n            mainVideo={prod.mainVideo}\n            sideVideo={prod.sideVideo}\n            quotes={prod.quotes}\n          ></Entry>\n        )} else {\n          return(null)\n        }})}\n      </div>\n    );\n  }\n}\n\nexport default Productions;"]},"metadata":{},"sourceType":"module"}