{"ast":null,"code":"var _jsxFileName = \"/Users/Ben/Documents/dev.bensmithsound.uk/src/Site.Status.js\";\nimport React from 'react';\nimport './App.css';\nimport './Site.Status.css';\nimport { prods } from './Production.list.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Status extends React.Component {\n  constructor(prop) {\n    super(prop);\n    this.state = {\n      prods\n    };\n  }\n\n  setGreeting() {\n    var greetingOptions = [\"Hi there!\", \"Hey there!\"];\n    const now = new Date();\n\n    if (now.getHours() < 12) {\n      var greeting = \"Good morning!\";\n    } else if (now.getHours() < 18 && now.getHours() >= 12) {\n      var greeting = \"Good afternoon!\";\n    } else if (now.getHours() < 23 && now.getHours() >= 18) {\n      var greeting = \"Good evening!\";\n    }\n\n    ;\n\n    if (greeting) {\n      greetingOptions.push(greeting);\n      var pickGreeting = greetingOptions[Math.floor(Math.random() * greetingOptions.length)];\n      return pickGreeting;\n    } else {\n      var pickGreeting = greetingOptions[Math.floor(Math.random() * greetingOptions.length)];\n      return pickGreeting[0];\n    }\n\n    ;\n  }\n\n  setStatus() {\n    const today = new Date();\n    var prodStatus = false;\n    var status = \"\";\n    var statuses = {};\n    var shows = [];\n    prods.map(prod => {\n      var preStart = new Date(Date.parse(prod.date.preStart));\n      var fitupStart = new Date(Date.parse(prod.date.fitupStart));\n      var techStart = new Date(Date.parse(prod.date.techStart));\n      var runStart = new Date(Date.parse(prod.date.runStart));\n      var runEnd = new Date(Date.parse(prod.date.runEnd));\n      {\n        /*if (prod.producer) {\n         var showRef = prod.showName + \" (for \" + prod.producer + \")\"\n        } else {\n         var showRef = prod.showName\n        }*/\n      }\n      var showRef = prod.showName;\n\n      if (preStart <= today && fitupStart > today) {\n        prodStatus = \"in pre-production for \" + showRef;\n        statuses.showRef = \"in pre-production for \";\n      } else if (fitupStart <= today && techStart > today) {\n        prodStatus = \"fitting up for \" + showRef;\n        statuses.showRef = \"fitting up for \";\n      } else if (techStart <= today && runStart > today) {\n        prodStatus = \"in tech rehearsals for \" + showRef;\n        statuses.showRef = \"in tech rehearsals for \";\n      } else if (runStart <= today && runEnd > today) {\n        prodStatus = \"working on performances of \" + showRef;\n        statuses.showRef = \"working on performances of \";\n      } else {\n        prodStatus = false;\n      }\n\n      ;\n\n      for (const show in statuses) {\n        if (status === \"\") {\n          status = \"I am  currently \" + statuses[show] + \"<i>\" + show + \"</i>\";\n        }\n      }\n\n      if (prodStatus) {\n        console.log(\"I am \" + prodStatus);\n\n        if (status === \"\") {\n          status = \"I am currently \" + prodStatus;\n        } else {\n          status = status.replace(\", and \", \", \");\n          status = status.concat(\", and \" + prodStatus);\n        }\n      }\n\n      ;\n    });\n    return status + \".\";\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6 mt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"alert alert-primary alert-dismissible fade show\",\n          role: \"alert\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: this.setGreeting()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), \" \", this.setStatus(), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            class: \"btn-close\",\n            \"data-bs-dismiss\": \"alert\",\n            \"aria-label\": \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Status;","map":{"version":3,"sources":["/Users/Ben/Documents/dev.bensmithsound.uk/src/Site.Status.js"],"names":["React","prods","Status","Component","constructor","prop","state","setGreeting","greetingOptions","now","Date","getHours","greeting","push","pickGreeting","Math","floor","random","length","setStatus","today","prodStatus","status","statuses","shows","map","prod","preStart","parse","date","fitupStart","techStart","runStart","runEnd","showRef","showName","show","console","log","replace","concat","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport './Site.Status.css';\nimport {prods} from './Production.list.json';\n\nclass Status extends React.Component {\n  constructor(prop) {\n    super(prop);\n    this.state = {prods};\n  }\n\n  setGreeting() {\n    var greetingOptions = [\n      \"Hi there!\",\n      \"Hey there!\"\n    ]\n\n    const now = new Date();\n\n    if(now.getHours() < 12) {\n      var greeting = \"Good morning!\"\n    } else if(now.getHours() < 18 && now.getHours() >= 12) {\n      var greeting = \"Good afternoon!\"\n    } else if(now.getHours() < 23 && now.getHours() >= 18) {\n      var greeting = \"Good evening!\"\n    };\n\n    if(greeting) {\n      greetingOptions.push(greeting);\n      var pickGreeting = greetingOptions[Math.floor(Math.random()*greetingOptions.length)];\n      return pickGreeting;\n    } else {\n      var pickGreeting = greetingOptions[Math.floor(Math.random()*greetingOptions.length)];\n      return pickGreeting[0];\n    };\n  }\n\n  setStatus() {\n    const today = new Date();\n    var prodStatus = false;\n    var status = \"\";\n    var statuses = {};\n    var shows = [];\n\n    prods.map(prod => {\n      var preStart = new Date(Date.parse(prod.date.preStart));\n      var fitupStart = new Date(Date.parse(prod.date.fitupStart));\n      var techStart = new Date(Date.parse(prod.date.techStart));\n      var runStart = new Date(Date.parse(prod.date.runStart));\n      var runEnd = new Date(Date.parse(prod.date.runEnd));\n\n      {/*if (prod.producer) {\n        var showRef = prod.showName + \" (for \" + prod.producer + \")\"\n      } else {\n        var showRef = prod.showName\n      }*/}\n\n      var showRef = prod.showName;\n\n      if(preStart <= today && fitupStart > today) {\n        prodStatus = \"in pre-production for \" + showRef;\n        statuses.showRef = \"in pre-production for \";\n      } else if(fitupStart <= today && techStart > today) {\n        prodStatus = \"fitting up for \" + showRef;\n        statuses.showRef = \"fitting up for \";\n      } else if(techStart <= today && runStart > today) {\n        prodStatus = \"in tech rehearsals for \" + showRef;\n        statuses.showRef = \"in tech rehearsals for \";\n      } else if(runStart <= today && runEnd > today) {\n        prodStatus = \"working on performances of \" + showRef;\n        statuses.showRef = \"working on performances of \";\n      } else {\n        prodStatus = false\n      };\n\n      for (const show in statuses) {\n        if(status === \"\") {\n          status = \"I am  currently \" + statuses[show] + \"<i>\" + show + \"</i>\";\n        }\n      }\n\n      if(prodStatus) {\n        console.log(\"I am \" + prodStatus);\n        if(status === \"\") {\n          status = \"I am currently \" + prodStatus;\n        } else {\n          status = status.replace(\", and \", \", \");\n          status = status.concat(\", and \" + prodStatus);\n        }\n      };\n\n    })\n    return(status + \".\");\n  }\n\n  render() {\n    return (\n      <div className=\"row justify-content-center\">\n        <div className=\"col-md-6 mt-4\">\n          <div class=\"alert alert-primary alert-dismissible fade show\" role=\"alert\">\n            <strong>{this.setGreeting()}</strong> {this.setStatus()}\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Status;"]},"metadata":{},"sourceType":"module"}